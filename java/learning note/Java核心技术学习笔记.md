## Core Java Volume 

> summery important point in this book

### Java çš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„

#### 3.1 ç®€å•çš„Javaåº”ç”¨ç¨‹åº

```java
public class FirstSample
{
    public static void main(String[] args)
    {
        System.out.println("Hello World");
    }
}
```

`public`ç”¨äºæ ‡è®°ä»£ç çš„è®¿é—®æƒé™

`class`è¡¨æ˜ç±»

`static`é™æ€å­—æ®µçš„æ ‡è®°ç¬¦`private`è¡¨ç¤ºåªæœ‰è¿™ä¸ªç±»èƒ½è®¿é—®

`void`è¡¨ç¤ºè¯¥ç±»è¿”å›å€¼çš„ç±»å‹(è¡¨ç¤ºä¸è¿”å›ä»»ä½•å€¼)`int`è¡¨ç¤ºè¿”å›ä¸€ä¸ªæ•´å‹çš„å€¼

#### 3.2 æ³¨é‡Š

æ³¨é‡Šçš„ç±»å‹åˆ†ä¸ºè¡Œä¸å•è¡Œ

```java
/**
*è¿™æ˜¯å•è¡Œæ³¨é‡Š
*/
//è¿™æ˜¯å•è¡Œæ³¨é‡Š
```

#### 3.3 æ•°æ®ç±»å‹

> å…«ç§åŸºæœ¬ç±»å‹(primitive type)

##### 3.3.1 æ•´å‹

|  ç±»å‹   | å‚¨å­˜éœ€æ±‚ | å–å€¼èŒƒå›´ |
| :-----: | :------: | :------: |
|  `int`  |  4å­—èŠ‚   |          |
| `short` |  2å­—èŠ‚   |          |
| `long`  |  8å­—èŠ‚   |          |
| `byte`  |  1å­—èŠ‚   | -128~127 |

###### warning: æ•´å‹çš„åç¼€

`L`æˆ–`l`:è¡¨ç¤ºé•¿æ•´æ•°å‹;  _example_:`400000000L`;

`0x`æˆ–`0X`:è¡¨ç¤ºåå…­è¿›åˆ¶; _example_:`0xCAFE`;

`0`:è¡¨ç¤ºå…«è¿›åˆ¶ _example_:`010`è¡¨ç¤ºåè¿›åˆ¶ä¸­çš„8;

`0b`æˆ–`0B`:è¡¨ç¤ºäºŒè¿›åˆ¶ä¸­ _example_:`0b1001`è¡¨ç¤º9;

`_`åŠ åœ¨æ•°å­—ä¹‹é—´è®©æ•°å­—æ›´åŠ æ˜“è¯» _example_:`0b1111_0100_0010_0100_0000`è¡¨ç¤º100ä¸‡

##### 3.3.2æµ®ç‚¹ç±»å‹

|  ç±»å‹  | å‚¨å­˜éœ€æ±‚ |
| :----: | :------: |
| float  |  4å­—èŠ‚   |
| double |  8å­—èŠ‚   |

`float`ç±»å‹ä¹‹åéƒ½æœ‰ä¸€ä¸ª`F` `f`åç¼€

###### warning æµ®ç‚¹æ•°å€¼çš„æº¢å‡º

- æ­£æ— ç©·å¤§
- è´Ÿæ— ç©·å¤§
- NaN _example_:0/0æˆ–è´Ÿæ•°çš„å¹³æ–¹æ›´çš„è®¡ç®—ç»“æœä¸ºNaN

`Double.POSITIVE_INFINITY`ä¸`Double.NEGATIVE_INFINITY` `Double.NaN`å¯ä»¥åˆ†åˆ«è¡¨ç¤ºè¿™äº›æ•°å­—

##### 3.3.3 charç±»å‹

å¯ä»¥ç”¨æ¥è¡¨ç¤ºUnicodeå€¼

ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰åºåˆ—

| è½¬ä¹‰åºåˆ— |  åç§°  | Unicodeå€¼ |
| :------: | :----: | :-------: |
|   `\b`   |  é€€æ ¼  |  \u0008   |
|   `\t`   |  åˆ¶è¡¨  |  \u0009   |
|   `\n`   |  æ¢è¡Œ  |  \u000a   |
|   `\r`   |  å›è½¦  |  \u000d   |
|   `\"`   | åŒå¼•å· |  \u0022   |
|   `\'`   | å•å¼•å· |  \u0027   |
|   `\\`   | åæ–œæ  |  \u005c   |

##### 3.3.4 Unicode ä¸ char ç±»å‹

null

##### 3.3.5 booleanç±»å‹

ç”¨äºåˆ¤æ–­é€»è¾‘æ¡ä»¶

#### 3.4 å˜é‡ä¸å¸¸é‡

##### 3.4.1 å£°æ˜å˜é‡

å¯ä»¥åœ¨ç±»å‹ä¹‹å‰å£°æ˜å˜é‡çš„å¯è®¿é—®æ€§ä»¥åŠçŠ¶æ€ç­‰ç­‰ 

_example:_`public static final var pi = 3.14;`

##### 3.4.2 å˜é‡çš„åˆå§‹åŒ–

- åœ¨å£°æ˜å˜é‡åç›´æ¥èµ‹å€¼ _example:_ `int vacationDays = 1;`
- `var`ä¸éœ€è¦æŒ‡å®šç±»å‹çš„å˜é‡å£°æ˜ _example:_`var i = 1; //i is an int`

##### 3.4.3 å¸¸é‡

`final`è¡¨ç¤ºçš„å˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡

##### 3.4.4 æšä¸¾ç±»å‹

`enum`å˜é‡çš„å–å€¼å€¼é™äºä¸€ä¸ªé›†åˆä¹‹å†… _example:_è¡£æœçš„å°ºå¯¸

```java
enum Size{SMALL, MEDIUM, LARGE, EXTRA_LARGE};
Size s = Size.MEDIUM;
```

#### 3.5 è¿ç®—ç¬¦

##### 3.5.1 ç®—æœ¯è¿ç®—ç¬¦

null

##### 3.5.2 æ•°å­¦å‡½æ•°ä¸å¸¸é‡

è‹¥è¦æ˜¯å…»Mathä¸­çš„æ–¹æ³•éœ€è¦åœ¨æ–‡ä»¶å¤´æ ‡è®°`import static java.lang.Math.*`

###### Math API

> `import static java.lang.Math.*`

`Math.sin` sin

`Math.cos` cos

`Math.tan` tan

`Math.atan` å‡½æ•°è¿”å›ä¸€ä¸ªæ•°å€¼çš„åæ­£åˆ‡ï¼ˆä»¥å¼§åº¦ä¸ºå•ä½ï¼‰

`math.atan2(y,x)` è¿”å›ä»åŸç‚¹(0,0)åˆ°(x,y)ç‚¹çš„çº¿æ®µä¸xè½´æ­£æ–¹å‘ä¹‹é—´çš„å¹³é¢è§’åº¦(å¼§åº¦å€¼)ï¼Œä¹Ÿå°±æ˜¯Math.atan2(y,x)

`Math.exp(x)` è¿”å›è‡ªç„¶å¯¹æ•°$e$çš„xæ¬¡æ–¹  $e^x$

`Math.log(x)` è¿”å›$\ln x$

```java
function getBaseLog(x, y) {
    return Math.log(y) / Math.log(x);
}
```

è°ƒç”¨å¯è¿”å›$\log_x y$

`Math.PI` å¸¸é‡ $\pi$ çš„è¿‘ä¼¼å€¼

`Math.E` å¸¸é‡ e çš„è¿‘ä¼¼å€¼

`Math.roud(x)` å¯¹xè¿›è¡Œèˆå…¥è¿ç®—ï¼Œå¾—åˆ°æœ€æ¥è¿‘çš„æ•´æ•°



##### 3.5.3 æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢

null



##### 3.5.4 å¼ºåˆ¶ç±»å‹è½¬æ¢

```java
double x = 9.997;
int nx = (int) Math .roud(x) //Math.round å¯æœç´¢
```



##### 3.5.5 ç»“åˆèµ‹å€¼å’Œè¿ç®—ç¬¦

```java
x += 4;
x = x + 4; //ä¸¤è€…ç­‰ä»·
```



##### 3.5.6 è‡ªå¢ä¸è‡ªå‡è¿ç®— 

`x++`  `x--` å…ˆè¿ç®—ååŠ å‡ï¼›

 `++x` `--x` å…ˆåŠ å‡åè¿ç®—ï¼›



##### 3.5.7 å…³ç³»å’Œbooleanè¿ç®—

`==` ç›¸ç­‰ï¼›`&&` å’Œï¼Œå¹¶ï¼›`!=` ä¸ç­‰ï¼› `||` æˆ–ï¼› 

`condition ?: expression1 :expression2 ` codition ä¸º ture åˆ™è¿”å›ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼›ä¸º false åˆ™è¿”å›ç¬¬äºŒä¸ªè¡¨è¾¾å¼çš„å€¼

```java
x < y ? x : y //è¿”å›xï¼Œyä¸­è¾ƒå°çš„ä¸ä¸€ä¸ª
```

 

##### 3.5.8 ä½è¿ç®—ç¬¦

###### ä½çš„æ¦‚å¿µ

ä½æ˜¯ä¸€ä¸ªæ•°å­—ç”¨ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºçš„å€¼ï¼ˆäºŒè¿›åˆ¶ï¼‰egï¼š12 = 0b1101

A = 60 = 0b0011 1100 ; B = 13 = 0b0000 1101

| æ“ä½œç¬¦ |                             æè¿°                             |              ä¾‹å­              |
| :----: | :----------------------------------------------------------: | :----------------------------: |
|   ï¼†   |            å¦‚æœç›¸å¯¹åº”ä½éƒ½æ˜¯1ï¼Œåˆ™ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0             | ï¼ˆAï¼†Bï¼‰ï¼Œå¾—åˆ°12ï¼Œå³0000 1100  |
|   \|   |           å¦‚æœç›¸å¯¹åº”ä½éƒ½æ˜¯ 0ï¼Œåˆ™ç»“æœä¸º 0ï¼Œå¦åˆ™ä¸º 1           | ï¼ˆA \| Bï¼‰å¾—åˆ°61ï¼Œå³ 0011 1101 |
|   ^    |            å¦‚æœç›¸å¯¹åº”ä½å€¼ç›¸åŒï¼Œåˆ™ç»“æœä¸º0ï¼Œå¦åˆ™ä¸º1            | ï¼ˆA ^ Bï¼‰å¾—åˆ°49ï¼Œå³ 0011 0001  |
|   ã€œ   |     æŒ‰ä½å–åè¿ç®—ç¬¦ç¿»è½¬æ“ä½œæ•°çš„æ¯ä¸€ä½ï¼Œå³0å˜æˆ1ï¼Œ1å˜æˆ0ã€‚     |  ï¼ˆã€œAï¼‰å¾—åˆ°-61ï¼Œå³1100 0011   |
|   <<   |     æŒ‰ä½å·¦ç§»è¿ç®—ç¬¦ã€‚å·¦æ“ä½œæ•°æŒ‰ä½å·¦ç§»å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ã€‚     |  A << 2å¾—åˆ°240ï¼Œå³ 1111 0000   |
|   >>   |     æŒ‰ä½å³ç§»è¿ç®—ç¬¦ã€‚å·¦æ“ä½œæ•°æŒ‰ä½å³ç§»å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ã€‚     |      A >> 2å¾—åˆ°15å³ 1111       |
|  >>>   | æŒ‰ä½å³ç§»è¡¥é›¶æ“ä½œç¬¦ã€‚å·¦æ“ä½œæ•°çš„å€¼æŒ‰å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°å³ç§»ï¼Œç§»åŠ¨å¾—åˆ°çš„ç©ºä½ä»¥é›¶å¡«å……ã€‚ |     A>>>2å¾—åˆ°15å³0000 1111     |



#### 3.6 å­—ç¬¦ä¸²

##### 3.6.1 å­ä¸² && 3.6.2 æ‹¼æ¥ 

`s.substring(a,b)` çš„é•¿åº¦ä¸º b-a;

å¯ç›´æ¥ç”¨åŠ å·è¿›è¡Œå­—ç¬¦ä¸²çš„æ‹¼æ¥



##### 3.6.3 ä¸å¯å˜å­—ç¬¦ä¸²

javaä¸­ä¸èƒ½ç›´æ¥ä¿®æ”¹å•ä¸ªå­—ç¬¦ï¼Œåªèƒ½è¿›è¡Œ`substring` æ“ä½œåè¿›è¡Œæ‹¼æ¥



##### 3.6.4 æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰

æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ `s.equals(t)`

å¿½ç•¥å¤§å°å†™ `equalsIgnoreCase` è¿›è¡Œæ£€æµ‹



##### 3.6.5ç©ºå­—ç¬¦ä¸²ä¸null

ç©ºä¸²ä¸ºé•¿åº¦ä¸º0çš„å­—ç¬¦ä¸²ï¼›æ£€æµ‹æ˜¯å¦ä¸ºç©ºä¸² `if(str.length() == 0)` æˆ– `if(str.equals(""))`

null è¡¨ç¤ºç›®å‰æ²¡æœ‰ä»»ä½•å¯¹è±¡ä¸è¯¥å˜é‡å…³è”ï¼›æ£€æµ‹æ˜¯å¦ä¸ºnull `if(str == null)` 



##### 3.6.6 ç ç‚¹ä¸ä»£ç å•å…ƒ

Javaå­—ç¬¦ä¸²ç”±charå€¼åºåˆ—ç»„æˆ

__Noteï¼š__ç©ºæ ¼ç­‰ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦ä¹Ÿç®—æ˜¯ç ç‚¹

__Noteï¼š__

###### length æ–¹æ³•é€šè¿‡è®¡ç®— UTF-16 ç¼–ç æ•°é‡è®¡ç®—

```java
String greeting = 'hello';
int n = greeting.length(); //is 5
```

###### å¾—åˆ°å®é™…é•¿åº¦ï¼ˆç ç‚¹æ•°é‡ï¼‰ï¼ˆç¼–ç æ•°é‡ï¼‰

```java
int cpCount = greeting.codePointCount(0,greeting.length()); //è¿”å›ä»é›¶å¼€å§‹åˆ°å­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦ç ç‚¹çš„æ•°é‡ ï¼ˆå¯ä»¥è®¡ç®—è¯¥å­—ç¬¦ä¸²æ‰€å å†…å­˜ï¼Ÿï¼‰
```

###### è¿”å›ä½ç½®nçš„ä»£ç å•å…ƒçš„å€¼ï¼ˆä¸ºå…·ä½“å­—ç¬¦ï¼‰

```java
char first = greeting.charAt(0); //first is "h"
char last = greeting.charAt(4); //last is 'o'
```

è·å–æœ€åä¸€ä¸ªå­—ç¬¦å¯ä»¥ä½¿ç”¨è®¡ç®— `last = greeting.charAt(string.length(greeting) - 1);`

###### è¿”å›ç¬¬ i ä¸ªç ç‚¹

```java
int index = greeting.offsetByCodePoints(0,i); //ä»ç¬¬0ä¸ªç ç‚¹å¼€å§‹è¿›è¡Œæ£€ç´¢ï¼Œç›´åˆ°ç¬¬iä¸ªåœä¸‹
int cp = greeting.codePointAt(index); //è·å–ç¬¬indexçš„ç ç‚¹
```

 $\omicron$ (omicron) ï¼ˆä¹Ÿå†™ä½œğ•†ï¼‰æ˜¯ä¸€ä¸ª[å…«å…ƒæ•°](https://zh.wikipedia.org/wiki/%E5%85%AB%E5%85%83%E6%95%B0) ç ç‚¹ï¼šU+1D546 éœ€è¦ä¸¤ä¸ªä»£ç å•å…ƒ 

###### éå†å­—ç¬¦ä¸²ï¼ˆå¹¶æŸ¥çœ‹æ¯ä¸€ä¸ªç ç‚¹ï¼‰çš„æ–¹æ³•

- éå†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶æŸ¥çœ‹æ¯ä¸€ä¸ªç ç‚¹

```java
int cp = sentence.codePointAt(i);
if (Character.isSupplementaryCodePoint(cp)) i += 2;
else i++
```

- è¿›è¡Œåå‘éå†

```java
i--;
if (Character.isSurrogate(sentence.charAt(i))) i--; //surrogate æ„å‘³æ›¿ä»£
int cp = sentence.codePiontAt(i);
```

- å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿›è¡Œéå†

```java
int[] codePoints = str.codePoints().toArrat();
```

- ç”¨ _æ„é€ å™¨_ å°†ä¸€ä¸ªç ç‚¹æ•°ç»„è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²

```java
String str = new String(codePoints, 0, codePoints.length);
```







##### String API

> `java.lang.String`

